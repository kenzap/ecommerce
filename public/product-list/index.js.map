{"version":3,"file":"index.js","sources":["../../node_modules/@kenzap/k-cloud/index.js","../../src/_/_helpers.js","../../src/_/_cnt_product_list.js","../../src/product-list/index.js"],"sourcesContent":["/**\n * @name initHeader\n * @description Initiates Kenzap Cloud extension header and related scripts. Verifies user sessions, handles SSO, does cloud space navigation, initializes i18n localization. \n * @param {object} response\n */\nexport const initHeader = (response) => {\n\n    // cache header from backend\n    if(response.header) localStorage.setItem('header', response.header);\n  \n    // load header to html if not present\n    if(!document.querySelector(\"#k-script\")){\n  \n        let child = document.createElement('div');\n        child.innerHTML = localStorage.getItem('header');\n        child = child.firstChild;\n        document.body.prepend(child);\n  \n        // run header scripts\n        Function(document.querySelector(\"#k-script\").innerHTML).call('test');\n    }\n  \n    // load locales if present\n    if(response.locale) window.i18n.init(response.locale); \n}\n\n/**\n * @name showLoader\n * @description Initiates full screen three dots loader.\n */\nexport const showLoader = () => {\n\n    let el = document.querySelector(\".loader\");\n    if (el) el.style.display = 'block';\n}\n\n/**\n * @name hideLoader\n * @description Removes full screen three dots loader.\n */\nexport const hideLoader = () => {\n\n    let el = document.querySelector(\".loader\");\n    if (el) el.style.display = 'none';\n}\n\n/**\n * @name initFooter\n * @description Removes full screen three dots loader.\n * @param {string} left - Text or html code to be present on the left bottom side of screen\n * @param {string} right - Text or html code to be present on the left bottom side of screen\n */\nexport const initFooter = (left, right) => {\n\n    document.querySelector(\"footer .row\").innerHTML = `\n    <div class=\"d-sm-flex justify-content-center justify-content-sm-between\">\n        <span class=\"text-muted text-center text-sm-left d-block d-sm-inline-block\">${left}</span>\n        <span class=\"float-none float-sm-right d-block mt-1 mt-sm-0 text-center text-muted\">${right}</span>\n    </div>`;\n}\n\n/**\n * @name link\n * @description Handles Cloud navigation links between extensions and its pages. Takes care of custom url parameters.\n * @param {string} slug - Any inbound link\n * \n * @returns {string} link - Returns original link with kenzp cloud space ID identifier.\n */\nexport const link = (slug) => {\n    \n    let urlParams = new URLSearchParams(window.location.search);\n    let sid = urlParams.get('sid') ? urlParams.get('sid') : \"\";\n\n    let postfix = slug.indexOf('?') == -1 ? '?sid='+sid : '&sid='+sid;\n\n    return slug + postfix;\n}\n\n/**\n * @name getSiteId\n * @description Gets current Kenzap Cloud space ID identifier from the URL.\n * \n * @returns {string} id - Kenzap Cloud space ID.\n */\nexport const getSiteId = () => {\n    \n    let urlParams = new URLSearchParams(window.location.search);\n    let id = urlParams.get('sid') ? urlParams.get('sid') : \"\";\n\n    return id;\n}\n\n/**\n * @name setCookie\n * @description Set cookie by its name to all .kenzap.com subdomains\n * @param {string} name - Cookie name.\n * @param {string} value - Cookie value.\n * @param {string} days - Number of days when cookie expires.\n */\n export const setCookie = (name, value, days) => {\n\n    let expires = \"\";\n    if (days) {\n        let date = new Date();\n        date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));\n        expires = \";expires=\" + date.toUTCString();\n    }\n    document.cookie = name + \"=\" + (escape(value) || \"\") + expires + \";path=/;domain=.kenzap.com\"; \n}\n\n/**\n * @name getCookie\n * @description Read cookie by its name.\n * @param {string} cname - Cookie name.\n * \n * @returns {string} value - Cookie value.\n */\nexport const getCookie = (cname) => {\n\n    let name = cname + \"=\";\n    let decodedCookie = decodeURIComponent(document.cookie);\n    let ca = decodedCookie.split(';');\n    for (let i = 0; i < ca.length; i++) {\n        let c = ca[i];\n        while (c.charAt(0) == ' ') {\n            c = c.substring(1);\n        }\n        if (c.indexOf(name) == 0) {\n            return c.substring(name.length, c.length);\n        }\n    }\n    return \"\";\n}\n\n/**\n * @name parseApiError\n * @description Set default logics for different API Error responses.\n * @param {object} object - API response.\n */\nexport const parseApiError = (data) => {\n \n    switch(data.code){\n\n        // unauthorized\n        case 401:\n\n            // dev mode\n            if(window.location.href.indexOf('localhost')!=-1){ \n\n                alert(data.reason); \n                return; \n            }\n\n            // production mode\n            location.href=\"https://auth.kenzap.com/?app=65432108792785&redirect=\"+window.location.href; break;\n        \n        // something else\n        default:\n\n            alert(data.reason); \n            break;\n    }\n}\n\n/**\n * @name initBreadcrumbs\n * @description Render ui breadcrumbs.\n * @param {array} data - List of link objects containing link text and url. If url is missing then renders breadcrumb as static text. Requires html holder with .bc class.\n */\nexport const initBreadcrumbs = (data) => {\n\n    let html = '<ol class=\"breadcrumb mt-2 mb-0\">';\n    for(let bc of data){\n        \n        if(typeof(bc.link) === 'undefined'){\n\n            html += `<li class=\"breadcrumb-item\">${ bc.text }</li>`;\n        }else{\n\n            html += `<li class=\"breadcrumb-item\"><a href=\"${ bc.link }\">${ bc.text }</a></li>`;\n        }\n    }\n    html += '</ol>';\n    \n    document.querySelector(\".bc\").innerHTML = html;\n}\n\n/**\n * @name onClick\n * @description One row click event listener declaration. Works with one or many HTML selectors.\n * @param {string} sel - HTML selector, id, class, etc.\n * @param {string} fn - callback function fired on click event.\n */\nexport const onClick = (sel, fn) => {\n\n    if(document.querySelector(sel)) for( let e of document.querySelectorAll(sel) ){\n\n        e.removeEventListener('click', fn, true);\n        e.addEventListener('click', fn, true);\n    }\n}\n\n/**\n * @name onKeyUp\n * @description One row key up event listener declaration. Works with one or many HTML selectors.\n * @param {string} sel - HTML selector, id, class, etc.\n * @param {string} fn - callback function fired on click event.\n */\nexport const onKeyUp = (sel, fn) => {\n\n    if(document.querySelector(sel)) for( let e of document.querySelectorAll(sel) ){\n\n        e.removeEventListener('keyup', fn, true);\n        e.addEventListener('keyup', fn, true);\n    }\n}\n\n/**\n * @name onChange\n * @description One row change event listener declaration. Works with one or many HTML selectors.\n * @param {string} sel - HTML selector, id, class, etc.\n * @param {string} fn - callback function fired on click event.\n */\nexport const onChange = (sel, fn) => {\n\n    if(document.querySelector(sel)) for( let e of document.querySelectorAll(sel) ){\n\n        e.removeEventListener('change', fn, true);\n        e.addEventListener('change', fn, true);\n    }\n}\n\n/**\n * @name loadScript\n * @description Asynchronous script loader function.\n * @param {string} url - HTML selector, id, class, etc.\n * @param {string} cb - callback function fired immediately after script is loaded.\n */\n export const loadScript = (url, cb) => {\n\n    if (!Array.from(document.querySelectorAll('script')).some(elm => elm.src == url)) {\n      let script = document.createElement('script')\n      script.onload = cb\n      script.src = url\n      document.getElementsByTagName('head')[0].appendChild(script)\n    }\n}\n\n/**\n * @name simulateClick\n * @description Trigger on click event without user interaction.\n * @param {string} elem - HTML selector, id, class, etc.\n */\n export const simulateClick = (elem) => {\n\n\t// create our event (with options)\n\tlet evt = new MouseEvent('click', {\n\t\tbubbles: true,\n\t\tcancelable: true,\n\t\tview: window\n\t});\n\n\t// if cancelled, don't dispatch the event\n\t!elem.dispatchEvent(evt);\n};\n\n/**\n * Create a web friendly URL slug from a string.\n *\n * Requires XRegExp (http://xregexp.com) with unicode add-ons for UTF-8 support.\n *\n * Although supported, transliteration is discouraged because\n *     1) most web browsers support UTF-8 characters in URLs\n *     2) transliteration causes a loss of information\n *\n * @author Sean Murphy <sean@iamseanmurphy.com>\n * @copyright Copyright 2012 Sean Murphy. All rights reserved.\n * @license http://creativecommons.org/publicdomain/zero/1.0/\n *\n * @param string s\n * @param object opt\n * @return string\n */\n export const slugify = (s, opt) => {\n\n\ts = String(s);\n\topt = Object(opt);\n\t\n\tvar defaults = {\n\t\t'delimiter': '-',\n\t\t'limit': undefined,\n\t\t'lowercase': true,\n\t\t'replacements': {},\n\t\t'transliterate': (typeof(XRegExp) === 'undefined') ? true : false\n\t};\n\t\n\t// Merge options\n\tfor (var k in defaults) {\n\t\tif (!opt.hasOwnProperty(k)) {\n\t\t\topt[k] = defaults[k];\n\t\t}\n\t}\n\t\n\tvar char_map = {\n\t\t// Latin\n\t\t'À': 'A', 'Á': 'A', 'Â': 'A', 'Ã': 'A', 'Ä': 'A', 'Å': 'A', 'Æ': 'AE', 'Ç': 'C', \n\t\t'È': 'E', 'É': 'E', 'Ê': 'E', 'Ë': 'E', 'Ì': 'I', 'Í': 'I', 'Î': 'I', 'Ï': 'I', \n\t\t'Ð': 'D', 'Ñ': 'N', 'Ò': 'O', 'Ó': 'O', 'Ô': 'O', 'Õ': 'O', 'Ö': 'O', 'Å': 'O', \n\t\t'Ø': 'O', 'Ù': 'U', 'Ú': 'U', 'Û': 'U', 'Ü': 'U', 'Å°': 'U', 'Ý': 'Y', 'Þ': 'TH', \n\t\t'ß': 'ss', \n\t\t'à': 'a', 'á': 'a', 'â': 'a', 'ã': 'a', 'ä': 'a', 'å': 'a', 'æ': 'ae', 'ç': 'c', \n\t\t'è': 'e', 'é': 'e', 'ê': 'e', 'ë': 'e', 'ì': 'i', 'í': 'i', 'î': 'i', 'ï': 'i', \n\t\t'ð': 'd', 'ñ': 'n', 'ò': 'o', 'ó': 'o', 'ô': 'o', 'õ': 'o', 'ö': 'o', 'Å': 'o', \n\t\t'ø': 'o', 'ù': 'u', 'ú': 'u', 'û': 'u', 'ü': 'u', 'Å±': 'u', 'ý': 'y', 'þ': 'th', \n\t\t'ÿ': 'y',\n\n\t\t// Latin symbols\n\t\t'©': '(c)',\n\n\t\t// Greek\n\t\t'Α': 'A', 'Β': 'B', 'Γ': 'G', 'Δ': 'D', 'Ε': 'E', 'Ζ': 'Z', 'Η': 'H', 'Θ': '8',\n\t\t'Ι': 'I', 'Κ': 'K', 'Λ': 'L', 'Μ': 'M', 'Ν': 'N', 'Ξ': '3', 'Ο': 'O', 'Π': 'P',\n\t\t'Ρ': 'R', 'Σ': 'S', 'Τ': 'T', 'Υ': 'Y', 'Φ': 'F', 'Χ': 'X', 'Ψ': 'PS', 'Ω': 'W',\n\t\t'Î': 'A', 'Î': 'E', 'Î': 'I', 'Î': 'O', 'Î': 'Y', 'Î': 'H', 'Î': 'W', 'Îª': 'I',\n\t\t'Î«': 'Y',\n\t\t'α': 'a', 'β': 'b', 'γ': 'g', 'δ': 'd', 'ε': 'e', 'ζ': 'z', 'η': 'h', 'θ': '8',\n\t\t'ι': 'i', 'κ': 'k', 'λ': 'l', 'μ': 'm', 'ν': 'n', 'ξ': '3', 'ο': 'o', 'π': 'p',\n\t\t'ρ': 'r', 'σ': 's', 'τ': 't', 'υ': 'y', 'φ': 'f', 'χ': 'x', 'ψ': 'ps', 'ω': 'w',\n\t\t'Î¬': 'a', 'Î­': 'e', 'Î¯': 'i', 'Ï': 'o', 'Ï': 'y', 'Î®': 'h', 'Ï': 'w', 'ς': 's',\n\t\t'Ï': 'i', 'Î°': 'y', 'Ï': 'y', 'Î': 'i',\n\n\t\t// Turkish\n\t\t'Å': 'S', 'Ä°': 'I', 'Ç': 'C', 'Ü': 'U', 'Ö': 'O', 'Ä': 'G',\n\t\t'Å': 's', 'Ä±': 'i', 'ç': 'c', 'ü': 'u', 'ö': 'o', 'Ä': 'g', \n\n\t\t// Russian\n\t\t'Ð': 'A', 'Ð': 'B', 'Ð': 'V', 'Ð': 'G', 'Ð': 'D', 'Ð': 'E', 'Ð': 'Yo', 'Ð': 'Zh',\n\t\t'Ð': 'Z', 'Ð': 'I', 'Ð': 'J', 'Ð': 'K', 'Ð': 'L', 'Ð': 'M', 'Ð': 'N', 'Ð': 'O',\n\t\t'Ð': 'P', 'Ð ': 'R', 'Ð¡': 'S', 'Ð¢': 'T', 'Ð£': 'U', 'Ð¤': 'F', 'Ð¥': 'H', 'Ð¦': 'C',\n\t\t'Ð§': 'Ch', 'Ð¨': 'Sh', 'Ð©': 'Sh', 'Ðª': '', 'Ð«': 'Y', 'Ð¬': '', 'Ð­': 'E', 'Ð®': 'Yu',\n\t\t'Ð¯': 'Ya',\n\t\t'Ð°': 'a', 'Ð±': 'b', 'Ð²': 'v', 'Ð³': 'g', 'Ð´': 'd', 'Ðµ': 'e', 'Ñ': 'yo', 'Ð¶': 'zh',\n\t\t'Ð·': 'z', 'Ð¸': 'i', 'Ð¹': 'j', 'Ðº': 'k', 'Ð»': 'l', 'Ð¼': 'm', 'Ð½': 'n', 'Ð¾': 'o',\n\t\t'Ð¿': 'p', 'Ñ': 'r', 'Ñ': 's', 'Ñ': 't', 'Ñ': 'u', 'Ñ': 'f', 'Ñ': 'h', 'Ñ': 'c',\n\t\t'Ñ': 'ch', 'Ñ': 'sh', 'Ñ': 'sh', 'Ñ': '', 'Ñ': 'y', 'Ñ': '', 'Ñ': 'e', 'Ñ': 'yu',\n\t\t'Ñ': 'ya',\n\n\t\t// Ukrainian\n\t\t'Ð': 'Ye', 'Ð': 'I', 'Ð': 'Yi', 'Ò': 'G',\n\t\t'Ñ': 'ye', 'Ñ': 'i', 'Ñ': 'yi', 'Ò': 'g',\n\n\t\t// Czech\n\t\t'Ä': 'C', 'Ä': 'D', 'Ä': 'E', 'Å': 'N', 'Å': 'R', 'Š': 'S', 'Å¤': 'T', 'Å®': 'U', \n\t\t'Å½': 'Z', \n\t\t'Ä': 'c', 'Ä': 'd', 'Ä': 'e', 'Å': 'n', 'Å': 'r', 'š': 's', 'Å¥': 't', 'Å¯': 'u',\n\t\t'Å¾': 'z', \n\n\t\t// Polish\n\t\t'Ä': 'A', 'Ä': 'C', 'Ä': 'e', 'Å': 'L', 'Å': 'N', 'Ó': 'o', 'Å': 'S', 'Å¹': 'Z', \n\t\t'Å»': 'Z', \n\t\t'Ä': 'a', 'Ä': 'c', 'Ä': 'e', 'Å': 'l', 'Å': 'n', 'ó': 'o', 'Å': 's', 'Åº': 'z',\n\t\t'Å¼': 'z',\n\n\t\t// Latvian\n\t\t'Ä': 'A', 'Ä': 'C', 'Ä': 'E', 'Ä¢': 'G', 'Äª': 'i', 'Ä¶': 'k', 'Ä»': 'L', 'Å': 'N', \n\t\t'Š': 'S', 'Åª': 'u', 'Å½': 'Z', \n\t\t'Ä': 'a', 'Ä': 'c', 'Ä': 'e', 'Ä£': 'g', 'Ä«': 'i', 'Ä·': 'k', 'Ä¼': 'l', 'Å': 'n',\n\t\t'š': 's', 'Å«': 'u', 'Å¾': 'z'\n\t};\n\t\n\t// Make custom replacements\n\tfor (var k in opt.replacements) {\n\t\ts = s.replace(RegExp(k, 'g'), opt.replacements[k]);\n\t}\n\t\n\t// Transliterate characters to ASCII\n\tif (opt.transliterate) {\n\t\tfor (var k in char_map) {\n\t\t\ts = s.replace(RegExp(k, 'g'), char_map[k]);\n\t\t}\n\t}\n\t\n\t// Replace non-alphanumeric characters with our delimiter\n\tvar alnum = (typeof(XRegExp) === 'undefined') ? RegExp('[^a-z0-9]+', 'ig') : XRegExp('[^\\\\p{L}\\\\p{N}]+', 'ig');\n\ts = s.replace(alnum, opt.delimiter);\n\t\n\t// Remove duplicate delimiters\n\ts = s.replace(RegExp('[' + opt.delimiter + ']{2,}', 'g'), opt.delimiter);\n\t\n\t// Truncate slug to max. characters\n\ts = s.substring(0, opt.limit);\n\t\n\t// Remove delimiter from ends\n\ts = s.replace(RegExp('(^' + opt.delimiter + '|' + opt.delimiter + '$)', 'g'), '');\n\t\n\treturn opt.lowercase ? s.toLowerCase() : s;\n}\n\n/**\n * @name toast\n * @description Triggers toast notification. Adds toast html to the page if missing.\n * @param {string} text - Toast notification.\n */\n export const toast = (text) => {\n\n    // only add once\n    if(!document.querySelector(\".toast\")){\n\n        let html = `\n        <div class=\"position-fixed bottom-0 p-2 m-4 end-0 align-items-center\">\n            <div class=\"toast hide align-items-center text-white bg-dark border-0\" role=\"alert\" aria-live=\"assertive\" aria-atomic=\"true\" data-bs-delay=\"3000\">\n                <div class=\"d-flex\">\n                    <div class=\"toast-body\"></div>\n                    <button type=\"button\" class=\"btn-close btn-close-white me-2 m-auto\" data-bs-dismiss=\"toast\" aria-label=\"Close\"></button>\n                </div>\n            </div>\n        </div>`;\n        if(document.querySelector('body > div')) document.querySelector('body > div').insertAdjacentHTML('afterend', html);\n    }\n\n    let toast = new bootstrap.Toast(document.querySelector('.toast'));\n    document.querySelector('.toast .toast-body').innerHTML = text;  \n    toast.show();\n}\n\n/**\n * @name headers\n * @description Default headers object for all Kenzap Cloud fetch queries. \n * @param {object} headers\n */\n export const headers = {\n    'Accept': 'application/json',\n    'Content-Type': 'application/json',\n    'Authorization': 'Bearer ' + getCookie('kenzap_api_key'),\n    'Kenzap-Locale': localStorage.hasOwnProperty('locale') ? localStorage.getItem('locale') : \"en\",\n    'Kenzap-Header': (localStorage.hasOwnProperty('header') && localStorage.hasOwnProperty('header-version')) ? localStorage.getItem('header-version') : 0,\n    'Kenzap-Token': getCookie('kenzap_token'),\n    'Kenzap-Sid': getSiteId(),\n}","import { getCookie, getSiteId } from '@kenzap/k-cloud';\n\nexport const getProductId = () => {\n    \n    let urlParams = new URLSearchParams(window.location.search);\n    let id = urlParams.get('id') ? urlParams.get('id') : \"\";\n    return id;\n}\n\nexport const getProductIdFromLink = () => {\n    \n    let url = new URL(window.location.href);\n    let id = url.pathname.trim().split('/').slice(-2)[0];\n    return id;\n}\n\nexport const replaceQueryParam = (param, newval, search) => {\n\n    let regex = new RegExp(\"([?;&])\" + param + \"[^&;]*[;&]?\");\n    let query = search.replace(regex, \"$1\").replace(/&$/, '');\n\n    return (query.length > 2 ? query + \"&\" : \"?\") + (newval ? param + \"=\" + newval : '');\n}\n\nexport const getPageNumberOld = () => {\n\n    let url = window.location.href.split('/');\n    let page = url[url.length-1];\n    let pageN = 1;\n    if(page.indexOf('page')==0){\n      pageN = page.replace('page', '').replace('#', '');\n    }\n    // console.log(pageN);\n    return parseInt(pageN);\n}\n\nexport const getPageNumber = () => {\n\n    let urlParams = new URLSearchParams(window.location.search);\n    let page = urlParams.get('page') ? urlParams.get('page') : 1;\n\n    return parseInt(page);\n}\n\nexport const getPagination = (__, meta, cb) => {\n\n    if(typeof(meta) === 'undefined'){ document.querySelector(\"#listing_info\").innerHTML = __('no records to display'); return; }\n\n    let offset = meta.limit+meta.offset;\n    if(offset>meta.total_records) offset = meta.total_records;\n\n    document.querySelector(\"#listing_info\").innerHTML = __(\"Showing %1$ to %2$ of %3$ entries\", (1+meta.offset), (offset), meta.total_records);\n    //  \"Showing \"+(1+meta.offset)+\" to \"+(offset)+\" of \"+meta.total_records+\" entries\";\n\n    let pbc = Math.ceil(meta.total_records / meta.limit);\n    document.querySelector(\"#listing_paginate\").style.display = (pbc < 2) ? \"none\" : \"block\";\n\n    let page = getPageNumber(); \n    let html = '<ul class=\"pagination d-flex justify-content-end pagination-flat\">';\n    html += '<li class=\"paginate_button page-item previous\" id=\"listing_previous\"><a href=\"#\" aria-controls=\"order-listing\" data-type=\"prev\" data-page=\"0\" tabindex=\"0\" class=\"page-link\"><span aria-hidden=\"true\">&laquo;</span></li>';\n    let i = 0;\n    while(i<pbc){\n\n        i++; \n        if(((i >= page-3) && (i <= page)) || ((i <= page+3) && (i >=page))){\n\n            html += '<li class=\"paginate_button page-item '+((page==i)?'active':'')+'\"><a href=\"#\" aria-controls=\"order-listing\" data-type=\"page\" data-page=\"'+i+'\" tabindex=\"0\" class=\"page-link\">'+(page==i?i:i)+'</a></li>';      \n        }\n    }  \n    html += '<li class=\"paginate_button page-item next\" id=\"order-listing_next\"><a href=\"#\" aria-controls=\"order-listing\" data-type=\"next\" data-page=\"2\" tabindex=\"0\" class=\"page-link\"><span aria-hidden=\"true\">&raquo;</span></a></li>';\n    html += '</ul>'\n\n    document.querySelector(\"#listing_paginate\").innerHTML = html;\n\n    let page_link = document.querySelectorAll(\".page-link\");\n    for (const l of page_link) {\n        l.addEventListener('click', function(e) {\n\n            let p = parseInt(getPageNumber());\n            let ps = p;\n            switch(l.dataset.type){ \n                case 'prev': p-=1; if(p<1) p = 1; break;\n                case 'page': p=l.dataset.page; break;\n                case 'next': p+=1; if(p>pbc) p = pbc; break;\n            }\n            \n            // update url\n            if (window.history.replaceState) {\n\n                // let url = window.location.href.split('/page');\n                // let urlF = (url[0]+'/page'+p).replace('//page', '/page');\n\n                let str = window.location.search;\n                str = replaceQueryParam('page', p, str);\n                // window.location = window.location.pathname + str\n\n                // prevents browser from storing history with each change:\n                window.history.replaceState(\"kenzap-cloud\", document.title, window.location.pathname + str);\n            }\n\n            // only refresh if page differs\n            if(ps!=p) cb();\n            \n            e.preventDefault();\n            return false;\n        });\n    }\n}\n\nexport const formatStatus = (__, st) => {\n\n    st = parseInt(st); \n    switch(st){ \n      case 0: return '<div class=\"badge bg-warning text-dark fw-light\">' + __('Draft') + '</div>';\n      case 1: return '<div class=\"badge bg-primary fw-light\">' + __('Published') + '</div>';\n      case 3: return '<div class=\"badge bg-secondary fw-light\">' + __('Unpublished') + '</div>';\n      default: return '<div class=\"badge bg-secondary fw-light\">' + __('Drafts') + '</div>';\n    }\n}\n\nexport const formatPrice = (price) => {\n\n    const formatter = new Intl.NumberFormat('en-US', { style: 'currency', currency: \"USD\", });\n    if(typeof(price) === 'undefined' || price == '') price = 0;\n    price = parseFloat(price);\n    price = formatter.format(price);\n    return price;\n}\n\nexport const formatTime = (__, timestamp) => {\n\t\n    let a = new Date(timestamp * 1000);\n    let months = [__('Jan'), __('Feb'), __('Mar'), __('Apr'), __('May'), __('Jun'), __('Jul'), __('Aug'), __('Sep'), __('Oct'), __('Nov'), __('Dec')];\n    let year = a.getFullYear();\n    let month = months[a.getMonth()];\n    let date = a.getDate();\n    let hour = a.getHours();\n    let min = a.getMinutes();\n    let sec = a.getSeconds();\n    let time = date + ' ' + month + ' ' + year; // + ' ' + hour + ':' + min + ':' + sec ;\n    return time;\n}\n\n// nums only validation\nexport const numsOnly = (e, max) => {\n\n    // Only ASCII charactar in that range allowed \n    var ASCIICode = (e.which) ? e.which : e.keyCode \n    if (ASCIICode > 31 && ASCIICode != 46 && (ASCIICode < 48 || ASCIICode > 57)) \n    return false; \n\n    if(parseFloat(e.target.value)>max) \n    return false; \n\n    let dec = e.target.value.split('.');\n    if(dec.length>1)\n    if(dec[1].length>1)\n        return false;\n    \n    return true; \n}\n\nexport const onClick = (sel, fn) => {\n\n    // console.log('onClick');\n    if(document.querySelector(sel)) for( let e of document.querySelectorAll(sel) ){\n\n        e.removeEventListener('click', fn, true);\n        e.addEventListener('click', fn, true);\n    }\n}\n\n// time elapsed since creation \nexport const timeConverterAgo = (now, time) => {\n\n    // console.log(now + \" \" + time);\n\n    now = parseInt(now);\n    time = parseInt(time);\n\n    // console.log(now + \" \" + time);\n\n    // parse as elapsed time\n    let past = now - time;\n    if(past < 60) return 'moments ago';\n    if(past < 3600) return parseInt(past / 60) + ' minutes ago';\n    if(past < 86400) return parseInt(past / 60 / 24) + ' hours ago';\n\n    // process as normal date\n    var a = new Date(time * 1000);\n    var months = [__('Jan'), __('Feb'), __('Mar'), __('Apr'), __('May'), __('Jun'), __('Jul'), __('Aug'), __('Sep'), __('Oct'), __('Nov'), __('Dec')];\n    var year = a.getFullYear();\n    var month = months[a.getMonth()];\n    var date = a.getDate();\n    var hour = a.getHours();\n    var min = a.getMinutes();\n    var sec = a.getSeconds();\n    var time = date + ' ' + month + ' ' + year; // + ' ' + hour + ':' + min + ':' + sec ;\n    return time;\n}\n\nexport const getCurrencies = () => {\n\n    // length 164\n    return [\n        {\"name\":\"Afghan Afghani\",\"code\":\"AFA\",\"symbol\":\"؋\"},\n        {\"name\":\"Albanian Lek\",\"code\":\"ALL\",\"symbol\":\"Lek\"},\n        {\"name\":\"Algerian Dinar\",\"code\":\"DZD\",\"symbol\":\"دج\"},\n        {\"name\":\"Angolan Kwanza\",\"code\":\"AOA\",\"symbol\":\"Kz\"},\n        {\"name\":\"Argentine Peso\",\"code\":\"ARS\",\"symbol\":\"$\"},\n        {\"name\":\"Armenian Dram\",\"code\":\"AMD\",\"symbol\":\"֏\"},\n        {\"name\":\"Aruban Florin\",\"code\":\"AWG\",\"symbol\":\"ƒ\"},\n        {\"name\":\"Australian Dollar\",\"code\":\"AUD\",\"symbol\":\"$\"},\n        {\"name\":\"Azerbaijani Manat\",\"code\":\"AZN\",\"symbol\":\"m\"},\n        {\"name\":\"Bahamian Dollar\",\"code\":\"BSD\",\"symbol\":\"B$\"},\n        {\"name\":\"Bahraini Dinar\",\"code\":\"BHD\",\"symbol\":\".د.ب\"},\n        {\"name\":\"Bangladeshi Taka\",\"code\":\"BDT\",\"symbol\":\"৳\"},\n        {\"name\":\"Barbadian Dollar\",\"code\":\"BBD\",\"symbol\":\"Bds$\"},\n        {\"name\":\"Belarusian Ruble\",\"code\":\"BYR\",\"symbol\":\"Br\"},\n        {\"name\":\"Belgian Franc\",\"code\":\"BEF\",\"symbol\":\"fr\"},\n        {\"name\":\"Belize Dollar\",\"code\":\"BZD\",\"symbol\":\"$\"},\n        {\"name\":\"Bermudan Dollar\",\"code\":\"BMD\",\"symbol\":\"$\"},\n        {\"name\":\"Bhutanese Ngultrum\",\"code\":\"BTN\",\"symbol\":\"Nu.\"},\n        {\"name\":\"Bitcoin\",\"code\":\"BTC\",\"symbol\":\"฿\"},\n        {\"name\":\"Bolivian Boliviano\",\"code\":\"BOB\",\"symbol\":\"Bs.\"},\n        {\"name\":\"Bosnia-Herzegovina Convertible Mark\",\"code\":\"BAM\",\"symbol\":\"KM\"},\n        {\"name\":\"Botswanan Pula\",\"code\":\"BWP\",\"symbol\":\"P\"},\n        {\"name\":\"Brazilian Real\",\"code\":\"BRL\",\"symbol\":\"R$\"},\n        {\"name\":\"British Pound Sterling\",\"code\":\"GBP\",\"symbol\":\"£\"},\n        {\"name\":\"Brunei Dollar\",\"code\":\"BND\",\"symbol\":\"B$\"},\n        {\"name\":\"Bulgarian Lev\",\"code\":\"BGN\",\"symbol\":\"Лв.\"},\n        {\"name\":\"Burundian Franc\",\"code\":\"BIF\",\"symbol\":\"FBu\"},\n        {\"name\":\"Cambodian Riel\",\"code\":\"KHR\",\"symbol\":\"KHR\"},\n        {\"name\":\"Canadian Dollar\",\"code\":\"CAD\",\"symbol\":\"$\"},\n        {\"name\":\"Cape Verdean Escudo\",\"code\":\"CVE\",\"symbol\":\"$\"},\n        {\"name\":\"Cayman Islands Dollar\",\"code\":\"KYD\",\"symbol\":\"$\"},\n        {\"name\":\"CFA Franc BCEAO\",\"code\":\"XOF\",\"symbol\":\"CFA\"},\n        {\"name\":\"CFA Franc BEAC\",\"code\":\"XAF\",\"symbol\":\"FCFA\"},\n        {\"name\":\"CFP Franc\",\"code\":\"XPF\",\"symbol\":\"₣\"},\n        {\"name\":\"Chilean Peso\",\"code\":\"CLP\",\"symbol\":\"$\"},\n        {\"name\":\"Chinese Yuan\",\"code\":\"CNY\",\"symbol\":\"¥\"},\n        {\"name\":\"Colombian Peso\",\"code\":\"COP\",\"symbol\":\"$\"},\n        {\"name\":\"Comorian Franc\",\"code\":\"KMF\",\"symbol\":\"CF\"},\n        {\"name\":\"Congolese Franc\",\"code\":\"CDF\",\"symbol\":\"FC\"},\n        {\"name\":\"Costa Rican Colón\",\"code\":\"CRC\",\"symbol\":\"₡\"},\n        {\"name\":\"Croatian Kuna\",\"code\":\"HRK\",\"symbol\":\"kn\"},\n        {\"name\":\"Cuban Convertible Peso\",\"code\":\"CUC\",\"symbol\":\"$, CUC\"},\n        {\"name\":\"Czech Republic Koruna\",\"code\":\"CZK\",\"symbol\":\"Kč\"},\n        {\"name\":\"Danish Krone\",\"code\":\"DKK\",\"symbol\":\"Kr.\"},\n        {\"name\":\"Djiboutian Franc\",\"code\":\"DJF\",\"symbol\":\"Fdj\"},\n        {\"name\":\"Dominican Peso\",\"code\":\"DOP\",\"symbol\":\"$\"},\n        {\"name\":\"East Caribbean Dollar\",\"code\":\"XCD\",\"symbol\":\"$\"},\n        {\"name\":\"Egyptian Pound\",\"code\":\"EGP\",\"symbol\":\"ج.م\"},\n        {\"name\":\"Eritrean Nakfa\",\"code\":\"ERN\",\"symbol\":\"Nfk\"},\n        {\"name\":\"Estonian Kroon\",\"code\":\"EEK\",\"symbol\":\"kr\"},\n        {\"name\":\"Ethiopian Birr\",\"code\":\"ETB\",\"symbol\":\"Nkf\"},\n        {\"name\":\"Euro\",\"code\":\"EUR\",\"symbol\":\"€\"},\n        {\"name\":\"Falkland Islands Pound\",\"code\":\"FKP\",\"symbol\":\"£\"},\n        {\"name\":\"Fijian Dollar\",\"code\":\"FJD\",\"symbol\":\"FJ$\"},\n        {\"name\":\"Gambian Dalasi\",\"code\":\"GMD\",\"symbol\":\"D\"},\n        {\"name\":\"Georgian Lari\",\"code\":\"GEL\",\"symbol\":\"ლ\"},\n        {\"name\":\"German Mark\",\"code\":\"DEM\",\"symbol\":\"DM\"},\n        {\"name\":\"Ghanaian Cedi\",\"code\":\"GHS\",\"symbol\":\"GH₵\"},\n        {\"name\":\"Gibraltar Pound\",\"code\":\"GIP\",\"symbol\":\"£\"},\n        {\"name\":\"Greek Drachma\",\"code\":\"GRD\",\"symbol\":\"₯, Δρχ, Δρ\"},\n        {\"name\":\"Guatemalan Quetzal\",\"code\":\"GTQ\",\"symbol\":\"Q\"},\n        {\"name\":\"Guinean Franc\",\"code\":\"GNF\",\"symbol\":\"FG\"},\n        {\"name\":\"Guyanaese Dollar\",\"code\":\"GYD\",\"symbol\":\"$\"},\n        {\"name\":\"Haitian Gourde\",\"code\":\"HTG\",\"symbol\":\"G\"},\n        {\"name\":\"Honduran Lempira\",\"code\":\"HNL\",\"symbol\":\"L\"},\n        {\"name\":\"Hong Kong Dollar\",\"code\":\"HKD\",\"symbol\":\"$\"},\n        {\"name\":\"Hungarian Forint\",\"code\":\"HUF\",\"symbol\":\"Ft\"},\n        {\"name\":\"Icelandic króna\",\"code\":\"ISK\",\"symbol\":\"kr\"},\n        {\"name\":\"Indian Rupee\",\"code\":\"INR\",\"symbol\":\"₹\"},\n        {\"name\":\"Indonesian Rupiah\",\"code\":\"IDR\",\"symbol\":\"Rp\"},\n        {\"name\":\"Iranian Rial\",\"code\":\"IRR\",\"symbol\":\"﷼\"},\n        {\"name\":\"Iraqi Dinar\",\"code\":\"IQD\",\"symbol\":\"د.ع\"},\n        {\"name\":\"Israeli New Sheqel\",\"code\":\"ILS\",\"symbol\":\"₪\"},\n        {\"name\":\"Italian Lira\",\"code\":\"ITL\",\"symbol\":\"L,£\"},\n        {\"name\":\"Jamaican Dollar\",\"code\":\"JMD\",\"symbol\":\"J$\"},\n        {\"name\":\"Japanese Yen\",\"code\":\"JPY\",\"symbol\":\"¥\"},\n        {\"name\":\"Jordanian Dinar\",\"code\":\"JOD\",\"symbol\":\"ا.د\"},\n        {\"name\":\"Kazakhstani Tenge\",\"code\":\"KZT\",\"symbol\":\"лв\"},\n        {\"name\":\"Kenyan Shilling\",\"code\":\"KES\",\"symbol\":\"KSh\"},\n        {\"name\":\"Kuwaiti Dinar\",\"code\":\"KWD\",\"symbol\":\"ك.د\"},\n        {\"name\":\"Kyrgystani Som\",\"code\":\"KGS\",\"symbol\":\"лв\"},\n        {\"name\":\"Laotian Kip\",\"code\":\"LAK\",\"symbol\":\"₭\"},\n        {\"name\":\"Latvian Lats\",\"code\":\"LVL\",\"symbol\":\"Ls\"},\n        {\"name\":\"Lebanese Pound\",\"code\":\"LBP\",\"symbol\":\"£\"},\n        {\"name\":\"Lesotho Loti\",\"code\":\"LSL\",\"symbol\":\"L\"},\n        {\"name\":\"Liberian Dollar\",\"code\":\"LRD\",\"symbol\":\"$\"},\n        {\"name\":\"Libyan Dinar\",\"code\":\"LYD\",\"symbol\":\"د.ل\"},\n        {\"name\":\"Lithuanian Litas\",\"code\":\"LTL\",\"symbol\":\"Lt\"},\n        {\"name\":\"Macanese Pataca\",\"code\":\"MOP\",\"symbol\":\"$\"},\n        {\"name\":\"Macedonian Denar\",\"code\":\"MKD\",\"symbol\":\"ден\"},\n        {\"name\":\"Malagasy Ariary\",\"code\":\"MGA\",\"symbol\":\"Ar\"},\n        {\"name\":\"Malawian Kwacha\",\"code\":\"MWK\",\"symbol\":\"MK\"},\n        {\"name\":\"Malaysian Ringgit\",\"code\":\"MYR\",\"symbol\":\"RM\"},\n        {\"name\":\"Maldivian Rufiyaa\",\"code\":\"MVR\",\"symbol\":\"Rf\"},\n        {\"name\":\"Mauritanian Ouguiya\",\"code\":\"MRO\",\"symbol\":\"MRU\"},\n        {\"name\":\"Mauritian Rupee\",\"code\":\"MUR\",\"symbol\":\"₨\"},\n        {\"name\":\"Mexican Peso\",\"code\":\"MXN\",\"symbol\":\"$\"},\n        {\"name\":\"Moldovan Leu\",\"code\":\"MDL\",\"symbol\":\"L\"},\n        {\"name\":\"Mongolian Tugrik\",\"code\":\"MNT\",\"symbol\":\"₮\"},\n        {\"name\":\"Moroccan Dirham\",\"code\":\"MAD\",\"symbol\":\"MAD\"},\n        {\"name\":\"Mozambican Metical\",\"code\":\"MZM\",\"symbol\":\"MT\"},\n        {\"name\":\"Myanmar Kyat\",\"code\":\"MMK\",\"symbol\":\"K\"},\n        {\"name\":\"Namibian Dollar\",\"code\":\"NAD\",\"symbol\":\"$\"},\n        {\"name\":\"Nepalese Rupee\",\"code\":\"NPR\",\"symbol\":\"₨\"},\n        {\"name\":\"Netherlands Antillean Guilder\",\"code\":\"ANG\",\"symbol\":\"ƒ\"},\n        {\"name\":\"New Taiwan Dollar\",\"code\":\"TWD\",\"symbol\":\"$\"},\n        {\"name\":\"New Zealand Dollar\",\"code\":\"NZD\",\"symbol\":\"$\"},\n        {\"name\":\"Nicaraguan Córdoba\",\"code\":\"NIO\",\"symbol\":\"C$\"},\n        {\"name\":\"Nigerian Naira\",\"code\":\"NGN\",\"symbol\":\"₦\"},\n        {\"name\":\"North Korean Won\",\"code\":\"KPW\",\"symbol\":\"₩\"},\n        {\"name\":\"Norwegian Krone\",\"code\":\"NOK\",\"symbol\":\"kr\"},\n        {\"name\":\"Omani Rial\",\"code\":\"OMR\",\"symbol\":\".ع.ر\"},\n        {\"name\":\"Pakistani Rupee\",\"code\":\"PKR\",\"symbol\":\"₨\"},\n        {\"name\":\"Panamanian Balboa\",\"code\":\"PAB\",\"symbol\":\"B/.\"},\n        {\"name\":\"Papua New Guinean Kina\",\"code\":\"PGK\",\"symbol\":\"K\"},\n        {\"name\":\"Paraguayan Guarani\",\"code\":\"PYG\",\"symbol\":\"₲\"},\n        {\"name\":\"Peruvian Nuevo Sol\",\"code\":\"PEN\",\"symbol\":\"S/.\"},\n        {\"name\":\"Philippine Peso\",\"code\":\"PHP\",\"symbol\":\"₱\"},\n        {\"name\":\"Polish Zloty\",\"code\":\"PLN\",\"symbol\":\"zł\"},\n        {\"name\":\"Qatari Rial\",\"code\":\"QAR\",\"symbol\":\"ق.ر\"},\n        {\"name\":\"Romanian Leu\",\"code\":\"RON\",\"symbol\":\"lei\"},\n        {\"name\":\"Russian Ruble\",\"code\":\"RUB\",\"symbol\":\"₽\"},\n        {\"name\":\"Rwandan Franc\",\"code\":\"RWF\",\"symbol\":\"FRw\"},\n        {\"name\":\"Salvadoran Colón\",\"code\":\"SVC\",\"symbol\":\"₡\"},\n        {\"name\":\"Samoan Tala\",\"code\":\"WST\",\"symbol\":\"SAT\"},\n        {\"name\":\"Saudi Riyal\",\"code\":\"SAR\",\"symbol\":\"﷼\"},\n        {\"name\":\"Serbian Dinar\",\"code\":\"RSD\",\"symbol\":\"din\"},\n        {\"name\":\"Seychellois Rupee\",\"code\":\"SCR\",\"symbol\":\"SRe\"},\n        {\"name\":\"Sierra Leonean Leone\",\"code\":\"SLL\",\"symbol\":\"Le\"},\n        {\"name\":\"Singapore Dollar\",\"code\":\"SGD\",\"symbol\":\"$\"},\n        {\"name\":\"Slovak Koruna\",\"code\":\"SKK\",\"symbol\":\"Sk\"},\n        {\"name\":\"Solomon Islands Dollar\",\"code\":\"SBD\",\"symbol\":\"Si$\"},\n        {\"name\":\"Somali Shilling\",\"code\":\"SOS\",\"symbol\":\"Sh.so.\"},\n        {\"name\":\"South African Rand\",\"code\":\"ZAR\",\"symbol\":\"R\"},\n        {\"name\":\"South Korean Won\",\"code\":\"KRW\",\"symbol\":\"₩\"},\n        {\"name\":\"Special Drawing Rights\",\"code\":\"XDR\",\"symbol\":\"SDR\"},\n        {\"name\":\"Sri Lankan Rupee\",\"code\":\"LKR\",\"symbol\":\"Rs\"},\n        {\"name\":\"St. Helena Pound\",\"code\":\"SHP\",\"symbol\":\"£\"},\n        {\"name\":\"Sudanese Pound\",\"code\":\"SDG\",\"symbol\":\".س.ج\"},\n        {\"name\":\"Surinamese Dollar\",\"code\":\"SRD\",\"symbol\":\"$\"},\n        {\"name\":\"Swazi Lilangeni\",\"code\":\"SZL\",\"symbol\":\"E\"},\n        {\"name\":\"Swedish Krona\",\"code\":\"SEK\",\"symbol\":\"kr\"},\n        {\"name\":\"Swiss Franc\",\"code\":\"CHF\",\"symbol\":\"CHf\"},\n        {\"name\":\"Syrian Pound\",\"code\":\"SYP\",\"symbol\":\"LS\"},\n        {\"name\":\"São Tomé and Príncipe Dobra\",\"code\":\"STD\",\"symbol\":\"Db\"},\n        {\"name\":\"Tajikistani Somoni\",\"code\":\"TJS\",\"symbol\":\"SM\"},\n        {\"name\":\"Tanzanian Shilling\",\"code\":\"TZS\",\"symbol\":\"TSh\"},\n        {\"name\":\"Thai Baht\",\"code\":\"THB\",\"symbol\":\"฿\"},\n        {\"name\":\"Tongan Pa'anga\",\"code\":\"TOP\",\"symbol\":\"$\"},\n        {\"name\":\"Trinidad & Tobago Dollar\",\"code\":\"TTD\",\"symbol\":\"$\"},\n        {\"name\":\"Tunisian Dinar\",\"code\":\"TND\",\"symbol\":\"ت.د\"},\n        {\"name\":\"Turkish Lira\",\"code\":\"TRY\",\"symbol\":\"₺\"},\n        {\"name\":\"Turkmenistani Manat\",\"code\":\"TMT\",\"symbol\":\"T\"},\n        {\"name\":\"Ugandan Shilling\",\"code\":\"UGX\",\"symbol\":\"USh\"},\n        {\"name\":\"Ukrainian Hryvnia\",\"code\":\"UAH\",\"symbol\":\"₴\"},\n        {\"name\":\"United Arab Emirates Dirham\",\"code\":\"AED\",\"symbol\":\"إ.د\"},\n        {\"name\":\"Uruguayan Peso\",\"code\":\"UYU\",\"symbol\":\"$\"},\n        {\"name\":\"US Dollar\",\"code\":\"USD\",\"symbol\":\"$\"},\n        {\"name\":\"Uzbekistan Som\",\"code\":\"UZS\",\"symbol\":\"лв\"},\n        {\"name\":\"Vanuatu Vatu\",\"code\":\"VUV\",\"symbol\":\"VT\"},\n        {\"name\":\"Venezuelan  Bolívar\",\"code\":\"VEF\",\"symbol\":\"Bs\"},\n        {\"name\":\"Vietnamese Dong\",\"code\":\"VND\",\"symbol\":\"₫\"},\n        {\"name\":\"Yemeni Rial\",\"code\":\"YER\",\"symbol\":\"﷼\"},\n        {\"name\":\"Zambian Kwacha\",\"code\":\"ZMK\",\"symbol\":\"ZK\"}\n    ];\n}","// html product list loader\nexport const productListContent = (__) => {\n\n    return `\n    <div class=\"container\">\n\n        <div class=\"d-flex justify-content-between bd-highlight mb-3\">\n            <nav class=\"bc\" aria-label=\"breadcrumb\"></nav>\n            <button class=\"btn btn-primary btn-add\" type=\"button\">${ __('Add product') }</button>\n        </div>\n\n        <div class=\"row\">\n            <div class=\"col-md-12 grid-margin grid-margin-lg-0 grid-margin-md-0 stretch-card\">\n                <div class=\"card border-white shadow-sm\">\n                    <div class=\"card-body\">\n                        <div class=\"no-footer\">\n                            <div class=\"row\">\n                                <div class=\"col-sm-12\">\n                                    <div class=\"table-responsive\">\n                                        <table\n                                            class=\"table table-hover table-borderless align-middle table-striped table-p-list\"\n                                            style=\"min-width: 800px;\">\n                                            <thead>\n\n                                            </thead>\n                                            <tbody>\n\n                                            </tbody>\n                                        </table>\n                                    </div>\n                                </div>\n                            </div>\n\n                            <div class=\"row\">\n                                <div class=\"col-sm-12 col-md-5\">\n                                    <div class=\"dataTables_info mt-3 text-secondary fw-lighter\" id=\"listing_info\"\n                                        role=\"status\" aria-live=\"polite\">&nbsp;</div>\n                                </div>\n                                <div class=\"col-sm-12 col-md-7\">\n                                    <div class=\"dataTables_paginate paging_simple_numbers mt-3\" id=\"listing_paginate\">\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n    \n    <div class=\"modal\" tabindex=\"-1\">\n        <div class=\"modal-dialog\">\n            <div class=\"modal-content\">\n                <div class=\"modal-header\">\n                    <h5 class=\"modal-title\"></h5>\n                    <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n                </div>\n                <div class=\"modal-body\">\n\n                </div>\n                <div class=\"modal-footer\">\n                    <button type=\"button\" class=\"btn btn-primary btn-modal\"></button>\n                    <button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\"></button>\n                </div>\n            </div>\n        </div>\n    </div>\n\n    <div class=\"position-fixed bottom-0 p-2 m-4 end-0 align-items-center\">\n        <div class=\"toast hide align-items-center text-white bg-dark border-0\" role=\"alert\" aria-live=\"assertive\"\n            aria-atomic=\"true\" data-bs-delay=\"3000\">\n            <div class=\"d-flex\">\n                <div class=\"toast-body\"></div>\n                <button type=\"button\" class=\"btn-close btn-close-white me-2 m-auto\" data-bs-dismiss=\"toast\"\n                    aria-label=\"Close\"></button>\n            </div>\n        </div>\n    </div>\n    \n    `;\n\n}","// js dependencies\nimport { headers, showLoader, hideLoader, initHeader, initFooter, initBreadcrumbs, parseApiError, getCookie, onClick, onKeyUp, getSiteId, toast, link } from '@kenzap/k-cloud';\nimport { getPageNumber, getPagination, formatStatus, formatPrice, formatTime } from \"../_/_helpers.js\"\nimport { productListContent } from \"../_/_cnt_product_list.js\"\n\n// where everything happens\nconst _this = {\n  \n    state:{\n        firstLoad: true,\n        limit: 10, // number of records to load per table\n    },\n    init: () => {\n         \n        _this.getData();\n    },\n    getData: () => {\n\n        // show loader during first load\n        if (_this.state.firstLoad) showLoader();\n\n        // search content\n        let s = document.querySelector('.search-cont input') ? document.querySelector('.search-cont input').value : '';\n\n        // do API query\n        fetch('https://api-v1.kenzap.cloud/', {\n            method: 'post',\n            headers: headers,\n            body: JSON.stringify({\n                query: {\n                    user: {\n                        type:       'authenticate',\n                        fields:     ['avatar'],\n                        token:      getCookie('kenzap_token')\n                    },\n                    locale: {\n                        type:       'locale',\n                        // locale:      localStorage.hasOwnProperty('locale') ? localStorage.getItem('locale') : \"en\",\n                        source:      ['extension'],\n                        key:         'ecommerce',\n                    },\n                    products: {\n                        type:       'find',\n                        key:        'ecommerce-product',\n                        fields:     ['_id', 'id', 'img', 'status', 'price', 'title', 'updated'],\n                        limit:      _this.state.limit,\n                        offset:     s.length > 0 ? 0 : getPageNumber() * _this.state.limit - _this.state.limit,    // automatically calculate the offset of table pagination\n                        search:     {                                                           // if s is empty search query is ignored\n                                        field: 'title',\n                                        s: s\n                                    },\n                        sortby:     {\n                                        field: 'created',\n                                        order: 'DESC'\n                                    },\n                        // groupby:    [\n                        //                 {\n                        //                     field: 'created',\n                        //                 }\n                        //             ]\n                    }\n                }\n            })\n        })\n        .then(response => response.json())\n        .then(response => {\n\n            // hide UI loader\n            hideLoader();\n\n            if(response.success){\n\n                // init header\n                initHeader(response);\n\n                // get core html content \n                _this.loadPageStructure();  \n\n                // render table\n                _this.renderPage(response);\n\n                // bind content listeners\n                _this.initListeners();\n            \n                // init pagination\n                _this.initPagination(response);\n\n                // initiate footer\n                _this.initFooter();\n\n                // first load\n                _this.state.firstLoad = false;\n\n            }else{\n\n                parseApiError(response);\n            }\n        })\n        .catch(error => { parseApiError(response); });\n    },\n    authUser: (response) => {\n\n        if(response.user){\n            \n            if(response.user.success == true){\n\n                \n            }\n        }\n    },\n    loadPageStructure: () => {\n  \n        if(!_this.state.firstLoad) return;\n\n        // get core html content \n        document.querySelector('#contents').innerHTML = productListContent(__);\n    },\n    renderPage: (response) => {\n\n        if(_this.state.firstLoad){\n\n            // initiate breadcrumbs\n            initBreadcrumbs(\n                [\n                    { link: link('https://dashboard.kenzap.cloud'), text: __('Dashboard') },\n                    { link: link('/'), text: __('E-commerce') },\n                    { text: __('Product list') }\n                ]\n            );\n\n            // init table header\n            document.querySelector(\".table thead\").innerHTML = `\n                <tr>\n                    <th>\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"#212529\" class=\"bi justify-content-end bi-search mb-1\" viewBox=\"0 0 16 16\" >\n                            <path d=\"M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z\"></path>\n                        </svg>\n                    </th>\n                    <th>\n                        <div class=\"search-cont input-group input-group-sm mb-0 justify-content-start\">     \n                            <input type=\"text\" placeholder=\"${ __('Search products') }\" class=\"form-control border-top-0 border-start-0 border-end-0 rounded-0\" aria-label=\"${ __('Search products') }\" aria-describedby=\"inputGroup-sizing-sm\" style=\"max-width: 200px;\">\n                        </div>\n                        <span>${ __(\"Title\") }</span>\n                    </th>\n                    <th>${ __(\"Status\") }</th>\n                    <th>${ __(\"Price\") }</th>\n                    <th>${ __(\"Last change\") }</th>\n                    <th></th>\n                </tr>`;\n\n        }\n\n        // no products in the list\n        if (response.products.length == 0) {\n\n            document.querySelector(\".table tbody\").innerHTML = `<tr><td colspan=\"6\">${ __(\"No products to display.\") }</td></tr>`;\n            return;\n        }\n\n        let sid = getSiteId();\n\n        // generate website table\n        let list = '';\n        for (let i in response.products) {\n\n            let img = 'https://cdn.kenzap.com/loading.png';\n\n            if(typeof(response.products[i].img) === 'undefined') response.products[i].img = [];\n            if(response.products[i].img[0]) img = CDN + '/S'+sid+'/product-'+response.products[i]._id+'-1-100x100.jpeg?'+response.products[i].updated;\n              \n            list += `\n                <tr>\n                    <td>\n                        <div class=\"timgc\">\n                            <a href=\"${ link('/product-edit/?id='+response.products[i]._id) }\"><img src=\"${ img }\" data-srcset=\"${ img }\" class=\"img-fluid rounded\" alt=\"${ __(\"Product placeholder\") }\" srcset=\"${ img }\" ></a>\n                        </div>\n                    </td>\n                    <td class=\"destt\" style=\"max-width:250px;min-width:250px;\">\n                        <div class=\"mb-3 mt-3\"> \n                            <a class=\"text-body\" href=\"${ link('/product-edit/?id='+response.products[i]._id) }\" >${ response.products[i].title }<i style=\"color:#9b9b9b;font-size:15px;margin-left:8px;\" title=\"${ __(\"Edit product\") }\" class=\"mdi mdi-pencil menu-icon edit-page\"></i></a>\n                        </div>\n                    </td>\n                    <td>\n                        <span>${ formatStatus(__, response.products[i].status) }</span>\n                    </td>\n                    <td>\n                        <span>${ formatPrice(response.products[i].price) }</span>\n                    </td>\n                    <td>\n                        <span>${ formatTime(__, response.products[i].updated) }</span>\n                    </td>\n                    <td> \n                        <a href=\"#\" data-id=\"${ response.products[i]._id }\" class=\"remove-product text-danger \">\n                            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-trash\" viewBox=\"0 0 16 16\">\n                                <path d=\"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z\"/>\n                                <path fill-rule=\"evenodd\" d=\"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z\"/>\n                            </svg>\n                        </a>\n                        <i title=\"${ __(\"Remove this product\") }\" data-key=\"${ response.products[i].id }\" class=\"mdi mdi-trash-can-outline list-icon remove-product\"></i>\n                    </td>\n                </tr>`; \n        }\n\n        // provide result to the page\n        document.querySelector(\".table tbody\").innerHTML = list;\n    },\n    initListeners: () => {\n\n        // remove product\n        onClick('.remove-product', _this.listeners.removeProduct);\n\n        // search products activation\n        onClick('.table-p-list .bi-search', _this.listeners.searchProductsActivate);\n\n        // break here if initListeners is called more than once\n        if(!_this.state.firstLoad) return;\n\n        // add product modal\n        onClick('.btn-add', _this.addProduct);\n\n        // add product confirm\n        onClick('.btn-modal', _this.listeners.modalSuccessBtn);\n    },\n    listeners: {\n\n        removeProduct: (e) => {\n\n            e.preventDefault();\n\n            let c = confirm( __('Completely remove this product?') );\n\n            if(!c) return;\n  \n            // send data\n            fetch('https://api-v1.kenzap.cloud/', {\n                method: 'post',\n                headers: headers,\n                body: JSON.stringify({\n                    query: {\n                        product: {\n                            type:       'delete',\n                            key:        'ecommerce-product',   \n                            id:         e.currentTarget.dataset.id,\n                        }\n                    }\n                })\n            })\n            .then(response => response.json())\n            .then(response => {\n\n                if (response.success){\n\n                    // modalCont.hide();\n\n                    _this.getData();\n\n                }else{\n\n                    parseApiError(response);\n                }\n                \n                console.log('Success:', response);\n            })\n            .catch(error => { parseApiError(response); });\n        },\n \n        searchProductsActivate: (e) => {\n\n            e.preventDefault();\n\n            document.querySelector('.table-p-list thead tr th:nth-child(2) span').style.display = 'none';\n            document.querySelector('.table-p-list thead tr th:nth-child(2) .search-cont').style.display = 'flex';\n            document.querySelector('.table-p-list thead tr th:nth-child(2) .search-cont input').focus();\n\n            // search products\n            onKeyUp('.table-p-list thead tr th:nth-child(2) .search-cont input', _this.listeners.searchProducts);\n        },\n \n        searchProducts: (e) => {\n\n            e.preventDefault();\n\n            _this.getData();\n        },\n\n        modalSuccessBtn: (e) => {\n            \n            console.log('calling modalSuccessBtnFunc');\n            _this.listeners.modalSuccessBtnFunc(e);\n        },\n\n        modalSuccessBtnFunc: null\n    },\n    addProduct: (e) => {\n\n        let modal = document.querySelector(\".modal\");\n        let modalCont = new bootstrap.Modal(modal);\n        \n        modal.querySelector(\".modal-title\").innerHTML = __('Add Product');\n        modal.querySelector(\".btn-primary\").innerHTML = __('Add');\n        modal.querySelector(\".btn-secondary\").innerHTML = __('Cancel');\n        let d = \"\"; \n        let title = '', sdesc = '', price = '';\n        let modalHTml = `\\\n        <div class=\"form-cont\">\\\n            <div class=\"form-group mb-3\">\\\n                <label for=\"p-title\" class=\"form-label\">${ __('Title') }</label>\\\n                <input type=\"text\" class=\"form-control\" id=\"p-title\" autocomplete=\"off\" placeholder=\"\" value=\"${ title }\">\\\n            </div>\\\n            <div class=\"form-group mb-3\">\\\n                <label for=\"p-sdesc\" class=\"form-label\">${ __('Short description') }</label>\\\n                <input type=\"text\" class=\"form-control\" id=\"p-sdesc\" autocomplete=\"off\" placeholder=\"\" value=\"${ sdesc }\">\\\n            </div>\\\n            <div class=\"form-group mb-3\">\\\n                <label for=\"p-price\" class=\"form-label\">${ __('Price') }</label>\\\n                <input type=\"text\" class=\"form-control\" id=\"p-price\" autocomplete=\"off\" placeholder=\"\" value=\"${ price }\">\\\n            </div>\\\n        </div>`;\n\n        modal.querySelector(\".modal-body\").innerHTML = modalHTml;\n\n        _this.listeners.modalSuccessBtnFunc = (e) => {\n\n            e.preventDefault();\n\n            let data = {};\n            data.title = modal.querySelector(\"#p-title\").value;\n            data.sdesc = modal.querySelector(\"#p-sdesc\").value;\n            data.price = modal.querySelector(\"#p-price\").value;\n            data.status = \"0\";\n            data.img = [];\n            data.cats = [];\n\n            if(data.title.length<2){ alert(__('Please provide longer title')); return; }\n\n            // send data\n            fetch('https://api-v1.kenzap.cloud/', {\n                method: 'post',\n                headers: headers,\n                body: JSON.stringify({\n                    query: {\n                        product: {\n                            type:       'create',\n                            key:        'ecommerce-product',   \n                            data:       data\n                        }\n                    }\n                }) \n            })\n            .then(response => response.json())\n            .then(response => {\n\n                if (response.success){\n\n                    // open product editing page\n                    window.location.href = `/product-edit/?id=${ response.product.id}`\n\n                }else{\n\n                    parseApiError(response);\n                }\n                \n                console.log('Success:', response);\n            })\n            .catch(error => { parseApiError(response); });\n\n            console.log('saveProduct');\n\n        }\n\n        modalCont.show();\n\n        setTimeout( () => modal.querySelector(\"#p-title\").focus(),100 );\n\n    },\n    initPagination: (response) => {\n\n        getPagination(__, response.meta, _this.getData);\n    },\n    initFooter: () => {\n        \n        initFooter(__('Copyright © %1$ %2$ Kenzap%3$. All rights reserved.', new Date().getFullYear(), '<a class=\"text-muted\" href=\"https://kenzap.com/\" target=\"_blank\">', '</a>'), __('Kenzap Cloud Services - Dashboard'));\n    }\n}\n\n_this.init();"],"names":["replaceQueryParam","param","newval","search","regex","RegExp","query","replace","length","getPageNumber","urlParams","URLSearchParams","window","location","page","get","parseInt","getPagination","__","meta","cb","document","querySelector","innerHTML","offset","limit","total_records","pbc","Math","ceil","style","display","html","i","page_link","querySelectorAll","l","addEventListener","e","p","ps","dataset","type","history","replaceState","str","title","pathname","preventDefault","formatStatus","st","formatPrice","price","formatter","Intl","NumberFormat","currency","parseFloat","format","formatTime","timestamp","a","Date","months","year","getFullYear","month","getMonth","date","getDate","getHours","getMinutes","getSeconds","time","productListContent","_this","state","firstLoad","init","getData","showLoader","s","value","fetch","method","headers","body","JSON","stringify","user","fields","token","getCookie","locale","source","key","products","field","sortby","order","then","response","json","hideLoader","success","initHeader","loadPageStructure","renderPage","initListeners","initPagination","initFooter","parseApiError","error","authUser","initBreadcrumbs","link","text","sid","getSiteId","list","img","CDN","_id","updated","status","id","onClick","listeners","removeProduct","searchProductsActivate","addProduct","modalSuccessBtn","c","confirm","product","currentTarget","console","log","focus","onKeyUp","searchProducts","modalSuccessBtnFunc","modal","modalCont","bootstrap","Modal","sdesc","modalHTml","data","cats","alert","href","show","setTimeout"],"mappings":"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"}